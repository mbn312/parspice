"""
Objects generated by ParSPICE.g4 grammar.
"""


class FunctionDecl:
    """
    Represents a function declaration in CSPICE.java
    """
    def __init__(self, name, return_type, args, throws):
        self.name = name
        self.return_type = return_type
        self.args = args
        self.throws = throws

    def __str__(self):
        return str(self.return_type) + " " + self.name


class Argument:
    """
    Represents a single argument with name and data type.
    """
    def __init__(self, name, data_type):
        self.name = name
        self.data_type = data_type

    def __str__(self):
        return str(self.data_type) + " " + self.name


class DataType:
    """
    Data types used by CSPICE.
    Arrays are represented with the array_depth variable.
    """
    VOID = 0
    INT = 1
    DOUBLE = 2
    BOOLEAN = 3
    STRING = 4
    GFSEARCHUTILS = 5
    GFSCALARQUANTITY = 6

    def __init__(self, base_type, array_depth):
        self.base_type = base_type
        self.array_depth = array_depth

    def __str__(self):
        result = ""
        if self.base_type == DataType.VOID:
            result = "void"
        elif self.base_type == DataType.INT:
            result = "int"
        elif self.base_type == DataType.DOUBLE:
            result = "double"
        elif self.base_type == DataType.BOOLEAN:
            result = "bool"
        elif self.base_type == DataType.STRING:
            result = "String"
        elif self.base_type == DataType.GFSEARCHUTILS:
            result = "GFSearchUtils"
        elif self.base_type == DataType.GFSCALARQUANTITY:
            result = "GFScalarQuantity"
        else:
            raise ValueError("Base type not recognized: " + str(self.base_type))
        return result + "[]"*self.array_depth
    
    def base_to_str(self):
        if self.base_type == DataType.VOID:
            return "void"
        elif self.base_type == DataType.INT:
            return "int"
        elif self.base_type == DataType.DOUBLE:
            return "double"
        elif self.base_type == DataType.BOOLEAN:
            return "bool"
        elif self.base_type == DataType.STRING:
            return "String"
        elif self.base_type == DataType.GFSEARCHUTILS:
            return "GFSearchUtils"
        elif self.base_type == DataType.GFSCALARQUANTITY:
            return "GFScalarQuantity"
        else:
            raise ValueError("Base type not recognized: " + str(self.base_type))
        